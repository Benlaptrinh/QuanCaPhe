<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: content(~{::body})}">
<body>
<div class="content-wrapper">
    <h2>User List</h2>
    <a class="btn btn-primary" th:href="@{/admin/users/create}">Create user</a>
    <table class="data-table table-actions">
        <thead>
        <tr>
            <th>Username</th>
            <th>Role</th>
            <th>Enabled</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="u : ${users}">
            <td th:text="${u.tenDangNhap}">username</td>
            <td th:text="${u.quyenHan}">ROLE</td>
            <td th:text="${u.enabled}">enabled</td>
            <td class="action-buttons">
                <a class="btn btn-secondary btn-sm" th:href="@{|/admin/users/${u.maTaiKhoan}/edit|}">Edit</a>
                <form th:action="@{|/admin/users/${u.maTaiKhoan}/disable|}" method="post">
                    <button class="btn btn-secondary btn-sm" type="submit">Disable</button>
                </form>
                <form th:action="@{|/admin/users/${u.maTaiKhoan}/delete|}" method="post" onsubmit="return confirm('Xóa user này?')">
                    <button class="btn btn-delete btn-sm" type="submit">Delete</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="pagination">
        <a class="btn btn-sm"
           th:href="@{/admin/users(page=${page - 1})}"
           th:classappend="${page <= 1 ? ' btn-disabled' : ''}">
            Trước
        </a>
        <span class="pagination-info" th:text="'Trang ' + ${page} + ' / ' + ${totalPages}"></span>
        <a class="btn btn-sm"
           th:href="@{/admin/users(page=${page + 1})}"
           th:classappend="${page >= totalPages ? ' btn-disabled' : ''}">
            Sau
        </a>
    </div>
</div>
</body>
</html>
